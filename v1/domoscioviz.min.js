/* DomoscioViz v1.0.3 (Custom Build)
 * Dependencies : jQuery (https://jquery.com/)
 * Minify with https://skalman.github.io/UglifyJS-online/
 * Build: https://domoscio.com/ | https://github.com/Celumproject/domoscio-viz-sdk-js
 */

if ("undefined" == typeof jQuery) throw new Error("DomoscioViz requires jQuery"); function errors(r = "token") { var o = ""; switch (r) { case "token": default: o = "Invalid API Token" }return o } function viz_loader() { return "<img src='https://domoscio2-demo.herokuapp.com/images/ripple.svg' alt='loader' id='viz_loader'>" } function http_calls(r = "") { var o = 1 == DomoscioViz.configuration.preproduction ? "https://domoscio-viz-engine.herokuapp.com" : "http://localhost:3002", i = (DomoscioViz.configuration.client_id, DomoscioViz.authorization_token(DomoscioViz.configuration.client_passphrase)); return 0 == i ? i : o } function ressource(r) { if ("string" != typeof r) { var o = (r = r.toString()).indexOf(" "); o = (r = r.substring(o + 1)).indexOf("("), r = r.substring(0, o) } array = r.split(/(?=[A-Z])/); var t = ""; for (i = 0; i < array.length; i++)i < array.length - 1 ? t += array[i] + "_" : t += array[i]; var e = ""; return e += t.toLowerCase() + "s" } function get_url(r, o = {}) { var i = ressource(this.child.parent.name), t = DomoscioViz.authorization_token(DomoscioViz.configuration.client_passphrase), e = http_calls(i) + "/" + r; if (!1 !== e) { var n = ""; Object.keys(o).map(function (r, i) { n += 0 == i ? r + "=" + o[r] : "&" + r + "=" + o[r] }); var a = ""; return $.ajax({ headers: { ClientID: DomoscioViz.configuration.client_id, ClientPassphrase: t }, method: "POST", url: e, data: n, async: !1, crossDomain: !0, processData: !1, complete: function (r, o) { a = JSON.parse(r.responseText).url }, error: function (r, o) { console.error("We're sorry, but something went wrong. (500)") } }), a } } let Chart = { name: "Chart", child: {}, get_url: get_url, init: function () { return this.child.parent = this, delete this.init, this } }.init(); DomoscioViz = { configuration: { preproduction: !0, client_id: 0, client_passphrase: "" }, authorization_token: function (r) { return null == r ? (console.error(JSON.stringify(errors())), !1) : r }, Chart: Chart };